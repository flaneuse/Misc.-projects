library(ggplot2)
library(dplyr)
library(knitr)
library(stringr)
activ = read.csv('~/Documents/USAID/Kyla - FFP reshaping/Development_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
activ = read.csv('~/Documents/USAID/Kyla - FFP reshaping/Development_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
allActiv = read.csv('~/Documents/USAID/Kyla - FFP reshaping/allFFP_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
View(allActiv)
# Intro -------------------------------------------------------------------
# This piece of code imports data from FFP's tracking of programs, sectors, and countries.
# Laura Hughes, lhughes@usaid.gov, 9 February 2016
# Import packages ---------------------------------------------------------
# Helper functions.
pkgs =  c('dplyr', 'tidyr', 'readxl', 'ggplot2', 'stringr', 'lubridate')
# Check if packages are installed
alreadyInstalled = installed.packages()[,'Package']
toInstall = pkgs[!pkgs %in% alreadyInstalled]
# Install anything that isn't already installed.
if(length(toInstall > 0)) {
install.packages(toInstall)
}
# Load packages
for (i in 1:length(pkgs)) {
library(pkgs[i], character.only = TRUE)
}
# Import raw data ---------------------------------------------------------
# Note: assumes the data will be in an Excel file with header information in the first 10 rows,
# and columns: category, subcategory, categoryNumber, activity, and all the projects.
# Raw data is in 4 pieces:
# 1) whether or not the programs claim to do activities.
# 2) metadata on the programs
# 3) recategorized categories and subcats
# 1) Full data
rawData = read_excel('~/Documents/USAID/Kyla - FFP reshaping/TecSectorsTracking_021916.xlsx',
sheet = 1, skip = 1)
# 2) Pull out just the date information (since it gets screwed up on import)
metadata = read_excel('~/Documents/USAID/Kyla - FFP reshaping/TecSectorsTracking_021916.xlsx',
sheet = 2, col_types = c('text', 'text', 'text','text', 'text', 'text',
'numeric',
'text', 'text', 'text', 'blank', 'blank', 'text', 'text')) %>%
mutate(startDate = ymd(startDate),
endDate = ymd(endDate),
startYr = year(startDate)) %>%
rename(pgrmNum = `Program Number`,
pgrmName = `Program Name`,
countryCt = `Country Count`,
pgrmType = `Program Type`,
ARRyear = `ARR Year Submitted`
)
metadata = metadata %>% mutate(yearInPgrm = ARRyear - startYear + 1)
# 3) Add in the corrected categories from Kyla
categ =  read.csv('~/Documents/USAID/Kyla - FFP reshaping/activity_categories.csv') %>%
transmute(category1 = str_trim(`category.1`),
category2 = str_trim(`category.2`),
subcategory2 = str_trim(subcategory),
origCat = str_trim(origCat),
origSub = str_trim(origSub),
activity = str_trim(activity))
# Fix unlabeled column names
colnames(rawData)[1:3] = c('category', 'subcategory', 'catNum')
# Preliminary clean of activities data ------------------------------------
# Remove program-level data
activities = rawData %>%
slice(-12:-1) %>%
rename(activity = id) %>%
mutate(activity = str_trim(activity, side = 'both'),
category = str_trim(category),
subcategory = str_trim(subcategory))
# Merge in new category names
activities = full_join(activities, categ, by = c('activity' = 'activity', 'category' = 'origCat', 'subcategory' = 'origSub')) %>%
mutate(category1 = ifelse(is.na(category1), category, category1),
subcategory2 = ifelse(is.na(subcategory2), subcategory, subcategory2)) %>%
select(-subcategory, -category) %>%
rename(subcategory = subcategory2, activID = catNum)
# Reshape activities into a single table
activities = activities %>%
gather(id, isActive, -category1, -category2, -subcategory, -activID, -activity)
# Convert and check that all values are either 0, 1, or NA
# Assumptions: throwing away any data with for specifying what "other" means; Select Y/N --> no response.
activities = activities %>%
mutate(isActive = str_trim(isActive),
isActive = ifelse(isActive %in% c('N/A', 'Select Y/N'), NA,
ifelse(isActive %in% c('N', 'no', 'No', 'NO'), '0',
ifelse(isActive %in% c('Y', 'yes', 'Yes', 'YES'), '1',
ifelse(str_detect(activity, 'Other') & !(isActive %in% c('0', '1', NA)), # Convert other values to 1's.
'1', isActive)))))
# Throw a warning if anything is unexpected
if (any(unique(activities$isActive) %in% c("0", "1", NA) == FALSE)) {
warning('Activity data has some weird info! Check that all values for the activites are 0, 1, or NA')
}
# Lastly... convert to numbers.
activities = activities %>%
mutate(isActive = as.numeric(isActive))
# Merge programmatic level data -------------------------------------------
activities = full_join(activities, metadata, by = 'id')
# Additional cleaning
activities = activities %>%
mutate(pgrmType = str_trim(pgrmType),
Awardee = str_trim(Awardee),
Awardee = ifelse(Awardee == 'CRS', 'Catholic Relief Services',
ifelse(Awardee %in% c('ACDI/VOCA', 'ACDI / VOCA'), 'ACDI/VOCA (PCI, JSI & MCI)',
ifelse(Awardee == 'CARE Bangladesh', 'CARE',
ifelse(Awardee == 'Save the Children International', 'Save the Children',
ifelse(Awardee == 'Mercy Corps/Nepal', 'Mercy Corps',
ifelse(Awardee == 'FH', 'Food for the Hungry',
ifelse(Awardee == 'ADRA EST DR CONGO', 'ADRA',
Awardee))))))),
pgrmType = ifelse(pgrmType == 'Devleopment', 'Development', pgrmType))
# Eliminate redundant data ------------------------------------------------
# Explore data ------------------------------------------------------------
activ = activities %>%
filter(pgrmType == 'Development') %>%
filter(isActive == 1)
View(activ %>% group_by(Country, category1) %>% summarise(num = sum(isActive, na.rm = TRUE)) %>% filter(num > 0) %>% group_by(Country) %>% mutate(tot = sum(num), pct = round(num/sum(num),2)) %>% arrange(desc(num)))
View(activ %>% group_by(Country, subcategory) %>% summarise(num = sum(isActive, na.rm = TRUE)) %>% filter(num > 0) %>% group_by(Country) %>% mutate(tot = sum(num), pct = round(num/sum(num),2)) %>% arrange(desc(num)))
View(activ %>% group_by(Country, activity) %>% summarise(num = sum(isActive, na.rm = TRUE)) %>% filter(num > 0) %>% group_by(Country) %>% mutate(tot = sum(num), pct = round(num/sum(num),2)) %>% arrange(desc(num)))
activ %>% group_by(Awardee) %>% summarise(num = n()) %>% arrange(desc(num))
View(activ %>% group_by(Awardee, category) %>% summarise(num = n()) %>% mutate(total = sum(num), pct = num/total) %>% ungroup() %>% arrange(desc(num)))
# Export data -------------------------------------------------------------
write.csv(activ, '~/Documents/USAID/Kyla - FFP reshaping/Development_activities_2016-02-19.csv')
write.csv(activities, '~/Documents/USAID/Kyla - FFP reshaping/allFFP_activities_2016-02-19.csv')
# just categories and activities ------------------------------------------
# uniqueActiv = activ %>%
#   select(category, subcategory, activity) %>%
#   distinct() %>%
#   arrange(category, subcategory, activity)
#
# write.csv(uniqueActiv, '~/Documents/USAID/Kyla - FFP reshaping/activity_categories.csv')
activ = read.csv('~/Documents/USAID/Kyla - FFP reshaping/Development_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
allActiv = read.csv('~/Documents/USAID/Kyla - FFP reshaping/allFFP_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
wash = activities %>%
filter(str_detect(category1, 'WASH') | str_detect(category2, 'WASH'))
View(wash)
ggplot(wash, aes(x = activity, y = isActive)) + geom_point(size = 3, alpha = 0.2)
ggplot(wash, aes(y = activity, x = isActive)) + geom_point(size = 3, alpha = 0.2)
ggplot(wash, aes(y = activity, x = isActive)) + geom_point(size = 3, alpha = 0.02)+geom_blank()
ggplot(wash, aes(y = activity, x = isActive)) + geom_point(size = 3, alpha = 0.02)+theme_bw()
x=cor(wash$activity, wash$isActive)
x=cor(y = wash$activity, x = wash$isActive)
data.frame(x1=rnorm(10),
x2=rnorm(10),
x3=rnorm(10))
wash = activities %>%
filter(str_detect(category1, 'WASH') | str_detect(category2, 'WASH')) %>%
select(activID, activity, isActive, id)
wash %>% spread(activID, isActive, -id, -activity)
wash %>% spread(activID, isActive)
wash = activities %>%
filter(str_detect(category1, 'WASH') | str_detect(category2, 'WASH')) %>%
select(activity, isActive, id)
wash %>% spread(activity, isActive)
wash = activities %>%
filter(str_detect(category1, 'WASH') | str_detect(category2, 'WASH')) %>%
select(activity, isActive, id)
corMatrix = wash %>% spread(activity, isActive)
x = cor(corMatrix)
x = cor(corMatrix %>% select(-id))
x
View(x)
x = cor(corMatrix %>% select(-id), na.rm = TRUE)
x = cor(corMatrix %>% select(-id), use = 'everything')
x = var(corMatrix %>% select(-id), na.rm = TRUE)
x
wash = activities %>%
filter(str_detect(category1, 'WASH') | str_detect(category2, 'WASH')) %>%
select(activity, isActive, id)
corMatrix = wash %>%
mutate(isActive = ifelse(is.na(isActive), 0, isActive)) %>%
spread(activity, isActive)
x = cor(corMatrix %>% select(-id))
View(x)
View(corMatrix)
ggplot(corMatrix, aes(x= `Baby WASH`, y = `Essential Hygiene Actions`)) +geom_point(size = 3, alpha = 0.05)
ggplot(corMatrix, aes(x= `Baby WASH*`, y = `Essential Hygiene Actions`)) +geom_point(size = 3, alpha = 0.05)
View(wash)
wash = activities %>%
filter(str_detect(category1, 'WASH') | str_detect(category2, 'WASH'))
wash  %>% filter(activity == 'Baby WASH*', isActive == 1) %>% group_by(Awardee) %>% summarise(n())
wash  %>% filter(activity == 'Baby WASH*') %>% group_by(Awardee) %>% summarise(n())
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
library(knitr)
library(stringr)
activ = read.csv('~/Documents/USAID/Kyla - FFP reshaping/Development_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
allActiv = read.csv('~/Documents/USAID/Kyla - FFP reshaping/allFFP_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
View(allActiv)
activ  %>% filter(str_detect(category1, 'WASH'), ARRyear == 2015)  %>% group_by(Awardee, subcategory) %>% summarise(x=n())
x = activ  %>% filter(str_detect(category1, 'WASH'), ARRyear == 2015)  %>% group_by(Awardee, subcategory) %>% summarise(x=n())
ggplot(x, aes(x = subcategory, y = x, colour = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(Awardee)
View(x)
ggplot(x, aes(x = subcategory, y = x, colour = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)
library(llamar)
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 12))
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$subcategory = factor(x$subcategory, c('Water Supply', 'Sanitation', 'WASH Governance & Capacity', 'Hygiene'))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$Awardee = factor(x$Awardee, c('Catholic Relief Services', 'ACDI/VOCA (PCI, JSI & MCI)', 'Save the Children', 'Food for the Hungry', 'Mercy Corps', 'CNFA', 'Adventist Relief and Development Agency', 'OICI', 'World Vision', 'Project Concern International', 'CARE'))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$Awardee = factor(x$Awardee, rev(c('Catholic Relief Services', 'ACDI/VOCA (PCI, JSI & MCI)', 'Save the Children', 'Food for the Hungry', 'Mercy Corps', 'CNFA', 'Adventist Relief and Development Agency', 'OICI', 'World Vision', 'Project Concern International', 'CARE'))
)
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory, ncol = 4)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory, ncol = 4)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
library(ggplot2)
library(dplyr)
library(knitr)
library(stringr)
activ = read.csv('~/Documents/USAID/Kyla - FFP reshaping/Development_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
allActiv = read.csv('~/Documents/USAID/Kyla - FFP reshaping/allFFP_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
View(allActiv)
activ  %>% filter(str_detect(category1, 'WASH'), ARRyear == 2015)  %>% group_by(Awardee, subcategory) %>% summarise(x=n())
x = activ  %>% filter(str_detect(category1, 'WASH'), ARRyear == 2015)  %>% group_by(Awardee, subcategory) %>% summarise(x=n())
ggplot(x, aes(x = subcategory, y = x, colour = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(Awardee)
View(x)
ggplot(x, aes(x = subcategory, y = x, colour = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)
library(llamar)
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 12))
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$subcategory = factor(x$subcategory, c('Water Supply', 'Sanitation', 'WASH Governance & Capacity', 'Hygiene'))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$Awardee = factor(x$Awardee, c('Catholic Relief Services', 'ACDI/VOCA (PCI, JSI & MCI)', 'Save the Children', 'Food for the Hungry', 'Mercy Corps', 'CNFA', 'Adventist Relief and Development Agency', 'OICI', 'World Vision', 'Project Concern International', 'CARE'))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$Awardee = factor(x$Awardee, rev(c('Catholic Relief Services', 'ACDI/VOCA (PCI, JSI & MCI)', 'Save the Children', 'Food for the Hungry', 'Mercy Corps', 'CNFA', 'Adventist Relief and Development Agency', 'OICI', 'World Vision', 'Project Concern International', 'CARE'))
)
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory, ncol = 4)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory, ncol = 4)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
library(ggplot2)
library(dplyr)
library(knitr)
library(stringr)
activ = read.csv('~/Documents/USAID/Kyla - FFP reshaping/Development_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
allActiv = read.csv('~/Documents/USAID/Kyla - FFP reshaping/allFFP_activities_2016-02-19.csv') %>%
filter(pgrmType == 'Development',
isActive == 1,
ARRyear == 2015)
View(allActiv)
activ  %>% filter(str_detect(category1, 'WASH'), ARRyear == 2015)  %>% group_by(Awardee, subcategory) %>% summarise(x=n())
x = activ  %>% filter(str_detect(category1, 'WASH'), ARRyear == 2015)  %>% group_by(Awardee, subcategory) %>% summarise(x=n())
ggplot(x, aes(x = subcategory, y = x, colour = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(Awardee)
View(x)
ggplot(x, aes(x = subcategory, y = x, colour = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)
library(llamar)
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 12))
ggplot(x, aes(x = subcategory, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~Awardee)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$subcategory = factor(x$subcategory, c('Water Supply', 'Sanitation', 'WASH Governance & Capacity', 'Hygiene'))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$Awardee = factor(x$Awardee, c('Catholic Relief Services', 'ACDI/VOCA (PCI, JSI & MCI)', 'Save the Children', 'Food for the Hungry', 'Mercy Corps', 'CNFA', 'Adventist Relief and Development Agency', 'OICI', 'World Vision', 'Project Concern International', 'CARE'))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
x$Awardee = factor(x$Awardee, rev(c('Catholic Relief Services', 'ACDI/VOCA (PCI, JSI & MCI)', 'Save the Children', 'Food for the Hungry', 'Mercy Corps', 'CNFA', 'Adventist Relief and Development Agency', 'OICI', 'World Vision', 'Project Concern International', 'CARE'))
)
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory, ncol = 4)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggplot(x, aes(x = Awardee, y = x, fill = subcategory)) + geom_bar(stat = 'identity') + facet_wrap(~subcategory, ncol = 4)+ coord_flip()+theme_xgrid()+theme(strip.text= element_text(size = 10))
ggsave('subcat.pdf')
colnames(x)
x %>% group_by(Awardee) %>% summarise(sum(x))
x %>% group_by(Awardee) %>% summarise(sum(x))
y = x %>% group_by(Awardee) %>% summarise(summed = sum(x))
ggplot(y, aes(x = 1, y = Awardee, fill = summed, label = summed)) +
geom_point(size = 18) +
scale_fill_grey()
ggplot(y, aes(x = 1, y = Awardee, fill = summed, label = summed)) +
geom_point(size = 18) +
scale_fill_gradient(low = grey10K, high = grey70K)
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 18) +
scale_colour_gradient(low = grey10K, high = grey70K) +
theme_xygrid()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 10) +
scale_colour_gradient(low = grey10K, high = grey70K) +
theme_xygrid() +
geom_text()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 10) +
geom_text(colour = 'red') +
scale_colour_gradient(low = grey10K, high = grey70K) +
theme_xygrid()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 10) +
geom_text(colour = grey10K) +
scale_colour_gradient(low = grey40K, high = grey70K) +
theme_xygrid()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 8) +
geom_text(colour = grey10K) +
scale_colour_gradient(low = grey40K, high = grey70K) +
theme_xygrid()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 8) +
geom_text(colour = grey10K) +
scale_colour_gradient(low = grey20K, high = grey70K) +
theme_xygrid()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 8) +
geom_text(colour = grey30K) +
scale_colour_gradient(low = grey20K, high = grey70K) +
theme_xygrid()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 8) +
geom_text(colour = grey80K) +
scale_colour_gradient(low = grey20K, high = grey70K) +
theme_xygrid()
ggplot(y, aes(x = 1, y = Awardee, colour = summed, label = summed)) +
geom_point(size = 8) +
geom_text(colour = grey80K) +
geom_text(colour = grey15K, data = y %>% filter(str_detect(Awardee, "Cath"))) +
scale_colour_gradient(low = grey20K, high = grey70K) +
theme_xygrid()
